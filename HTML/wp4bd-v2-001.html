

<!-- THEME DEBUG -->
<!-- CALL: theme('page') -->
<!-- BEGIN OUTPUT from 'themes/wp/templates/page.tpl.php' -->
<div class="wp4bd-debug" style="font-family: monospace; background: #f7f7f7; color: #222; padding: 20px; margin: 20px 0; border: 2px solid #ddd;"><h2 style="margin-top: 0; color: #222;">ğŸ” WP4BD Debug Output (Level 2)</h2><div style="margin-bottom: 20px;"><strong>Execution Flow:</strong><br>âœ“ Stage 1: Backdrop Query (0.000s)<br>âœ“ Stage 2: Transform Backdrop â†’ WordPress (0.000s)<br>âœ“ Stage 3: Create &amp; Populate WP_Query (0.005s)<br>âœ“ Stage 4: Load WordPress Core Files (0.000s)<br>âœ“ Stage 5: Test The Loop (0.000s)<br>âœ“ Stage 6: Theme functions.php &amp; Hooks (0.000s)<br>âœ“ Stage 7: Template Hierarchy (0.000s)<br>âœ“ Stage 8: Capture Template Output (0.001s)<br>âœ“ Stage 9: Inject Backdrop Assets (0.001s)<br><strong>Total: 0.008s</strong></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 1: Backdrop Query</strong><br>&nbsp;&nbsp;â””â”€ SQL Query: 376 characters<br>&nbsp;&nbsp;â””â”€ Node IDs Found: 4 items<br>&nbsp;&nbsp;â””â”€ Loaded Nodes: 4 items<br>&nbsp;&nbsp;â””â”€ Total Nodes: 4<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 2: Transform Backdrop â†’ WordPress</strong><br>&nbsp;&nbsp;â””â”€ WP_Post Class: Already loaded or file not found at: /var/www/html/wordpress-4.9/wp-includes/class-wp-post.php<br>&nbsp;&nbsp;â””â”€ Total Nodes Input: 4<br>&nbsp;&nbsp;â””â”€ WP_Post Objects Created: 4<br>&nbsp;&nbsp;â””â”€ Transformation Errors: 0<br>&nbsp;&nbsp;â””â”€ Sample Post: WP_Post object (20 properties)<br>&nbsp;&nbsp;â””â”€ Sample: ID: 9<br>&nbsp;&nbsp;â””â”€ Sample: Title: One region<br>&nbsp;&nbsp;â””â”€ Sample: Content Length: 107 characters<br>&nbsp;&nbsp;â””â”€ Sample: Post Date: 2025-11-22 23:35:30<br>&nbsp;&nbsp;â””â”€ Sample: Post Type: post<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 3: Create &amp; Populate WP_Query</strong><br>&nbsp;&nbsp;â””â”€ WP_Query Class: Already loaded or file not found at: /var/www/html/wordpress-4.9/wp-includes/class-wp-query.php<br>&nbsp;&nbsp;â””â”€ WP_Query Created: Success<br>&nbsp;&nbsp;â””â”€ Posts Count: 4<br>&nbsp;&nbsp;â””â”€ Found Posts: 4<br>&nbsp;&nbsp;â””â”€ Max Num Pages: 1<br>&nbsp;&nbsp;â””â”€ Query Flags: 5 items<br>&nbsp;&nbsp;â””â”€ WP_Query Object: WP_Query object (42 properties)<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 4: Load WordPress Core Files</strong><br>&nbsp;&nbsp;â””â”€ __DIR__: /var/www/html/backdrop-1.30/themes/wp/templates<br>&nbsp;&nbsp;â””â”€ BACKDROP_ROOT: /var/www/html/backdrop-1.30<br>&nbsp;&nbsp;â””â”€ Calculated Project Root: /var/www/html<br>&nbsp;&nbsp;â””â”€ Project Root Exists?: YES<br>&nbsp;&nbsp;â””â”€ WordPress Dir Exists?: YES<br>&nbsp;&nbsp;â””â”€ ABSPATH: /var/www/html/wordpress-4.9/<br>&nbsp;&nbsp;â””â”€ ABSPATH Exists?: YES<br>&nbsp;&nbsp;â””â”€ WPINC: wp-includes<br>&nbsp;&nbsp;â””â”€ WPINC Path: /var/www/html/wordpress-4.9/wp-includes<br>&nbsp;&nbsp;â””â”€ WPINC Exists?: YES<br>&nbsp;&nbsp;â””â”€ WP_CONTENT_DIR: /var/www/html/wordpress-4.9/wp-content<br>&nbsp;&nbsp;â””â”€ Skipped: query.php: WP_Query/have_posts already defined<br>&nbsp;&nbsp;â””â”€ Skipped: post.php: get_post already defined<br>&nbsp;&nbsp;â””â”€ Skipped: post-template.php: post-template tags already defined<br>&nbsp;&nbsp;â””â”€ Skipped: general-template.php: general-template hooks already defined<br>&nbsp;&nbsp;â””â”€ Skipped: link-template.php: the_permalink already defined<br>&nbsp;&nbsp;â””â”€ Skipped: formatting.php: formatting helpers already defined<br>&nbsp;&nbsp;â””â”€ Skipped: plugin.php: add_filter already defined<br>&nbsp;&nbsp;â””â”€ Skipped: l10n.php: __ already defined<br>&nbsp;&nbsp;â””â”€ Loaded: kses.php: 48.97 KB<br>&nbsp;&nbsp;â””â”€ Skipped: load.php: timer_start already defined<br>&nbsp;&nbsp;â””â”€ Skipped: functions.wp-styles.php: wp_print_styles already defined<br>&nbsp;&nbsp;â””â”€ Skipped: functions.wp-scripts.php: wp_print_scripts already defined<br>&nbsp;&nbsp;â””â”€ Total Files Loaded: 12<br>&nbsp;&nbsp;â””â”€ Total Size: 48.97 KB<br>&nbsp;&nbsp;â””â”€ Failed Files: 0<br>&nbsp;&nbsp;â””â”€ Available Functions: 5 items<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 5: Test The Loop</strong><br>&nbsp;&nbsp;â””â”€ have_posts() result: true<br>&nbsp;&nbsp;â””â”€ Initial current_post: -1<br>&nbsp;&nbsp;â””â”€ Initial $post: null<br>&nbsp;&nbsp;â””â”€ Iteration 1: 7 items<br>&nbsp;&nbsp;â””â”€ Iteration 2: 7 items<br>&nbsp;&nbsp;â””â”€ Iteration 3: 7 items<br>&nbsp;&nbsp;â””â”€ Total Iterations: 3<br>&nbsp;&nbsp;â””â”€ have_posts() after loop: true<br>&nbsp;&nbsp;â””â”€ Final current_post: -1<br>&nbsp;&nbsp;â””â”€ wp_reset_postdata(): Called<br>&nbsp;&nbsp;â””â”€ Post before reset: 7<br>&nbsp;&nbsp;â””â”€ Post after reset: 7<br>&nbsp;&nbsp;â””â”€ Final $wp_query state: 4 items<br>&nbsp;&nbsp;â””â”€ Template Tag Tests: 3 items<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 6: Theme functions.php &amp; Hooks</strong><br>&nbsp;&nbsp;â””â”€ Active Theme: outlined<br>&nbsp;&nbsp;â””â”€ Theme Dir: /var/www/html/backdrop-1.30/themes/wp/wp-content/themes/outlined<br>&nbsp;&nbsp;â””â”€ functions.php Path: /var/www/html/backdrop-1.30/themes/wp/wp-content/themes/outlined/functions.php<br>&nbsp;&nbsp;â””â”€ functions.php: Loaded<br>&nbsp;&nbsp;â””â”€ after_setup_theme: Fired<br>&nbsp;&nbsp;â””â”€ wp_enqueue_scripts: Fired<br>&nbsp;&nbsp;â””â”€ Registered Hooks: 3 items<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 7: Template Hierarchy</strong><br>&nbsp;&nbsp;â””â”€ Conditionals: 6 items<br>&nbsp;&nbsp;â””â”€ Template Candidates: 2 items<br>&nbsp;&nbsp;â””â”€ Using Template: index.php<br>&nbsp;&nbsp;â””â”€ Template Path: /var/www/html/backdrop-1.30/themes/wp/wp-content/themes/outlined/index.php<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 8: Capture Template Output</strong><br>&nbsp;&nbsp;â””â”€ Loop Rewound: Reset current_post to start<br>&nbsp;&nbsp;â””â”€ Pre-Include Loop State: 4 items<br>&nbsp;&nbsp;â””â”€ Template Included: /var/www/html/backdrop-1.30/themes/wp/wp-content/themes/outlined/index.php<br>&nbsp;&nbsp;â””â”€ Captured HTML Length: 8111 characters<br>&nbsp;&nbsp;â””â”€ Post-Include Loop State: 5 items<br></div><div style="margin-bottom: 15px; padding: 10px; background: #ffffff; border-left: 4px solid #4a9eff;"><strong style="color: #111;">Stage 9: Inject Backdrop Assets</strong><br>&nbsp;&nbsp;â””â”€ Backdrop CSS: Injected before &lt;/head&gt;<br>&nbsp;&nbsp;â””â”€ CSS Length: 1000 bytes<br>&nbsp;&nbsp;â””â”€ Total Injection Points: 1<br>&nbsp;&nbsp;â””â”€ Injected Assets: 1 items<br>&nbsp;&nbsp;â””â”€ Final HTML Length: 9112 bytes<br></div></div>
<!-- Help Text -->
<div style="margin: 20px; padding: 20px; background: #eef5ff; color: #0f2a45; border-left: 4px solid #4a9eff;">
  <h3 style="color: #0f2a45;">ğŸ›ï¸ Debug Controls</h3>

  <h4 style="color: #0f2a45; margin-top: 0;">Output Display</h4>
  <p>
          <strong>Rendered Output: OFF</strong> |
      <a href="?wp4bd_debug=2&wp4bd_show_output=1" style="color: #0056b3; font-weight: bold;">ğŸ‰ Show Rendered Output!</a>
      </p>

  <h4 style="color: #0f2a45;">Debug Level</h4>
  <p>Add <code style="background: #dce9fb; color: #0f2a45; padding: 2px 6px;">?wp4bd_debug=N</code> to URL to change debug level:</p>
  <ul>
    <li><a href="?wp4bd_debug=1" style="color: #0056b3;">Level 1</a> - Flow Tracking (timing only)</li>
    <li><a href="?wp4bd_debug=2" style="color: #0056b3;">Level 2</a> - Data Counts (default)</li>
    <li><a href="?wp4bd_debug=3" style="color: #0056b3;">Level 3</a> - Data Samples (titles, IDs)</li>
    <li><a href="?wp4bd_debug=4" style="color: #0056b3;">Level 4</a> - Full Data Dump</li>
  </ul>

  <h3 style="color: #0f2a45;">âœ… Current Status</h3>
  <ul>
    <li>âœ… <strong>WP4BD-001:</strong> Debug helper functions created</li>
    <li>âœ… <strong>WP4BD-002:</strong> Debug template created</li>
    <li>âœ… <strong>WP4BD-003:</strong> Stage 1 - Backdrop Query</li>
    <li>âœ… <strong>WP4BD-004:</strong> Stage 2 - Transform to WP_Post</li>
    <li>âœ… <strong>WP4BD-005:</strong> Stage 3 - Populate WP_Query</li>
    <li>âœ… <strong>WP4BD-006:</strong> Stage 4 - Load WordPress Core</li>
    <li>âœ… <strong>WP4BD-007:</strong> Stage 5 - Test The Loop</li>
    <li>âœ… <strong>WP4BD-009:</strong> Stage 6 - Theme functions.php & Hooks</li>
    <li>âœ… <strong>WP4BD-010:</strong> Stage 7 - Template Hierarchy</li>
    <li>âœ… <strong>WP4BD-011:</strong> Stage 8 - Capture Template Output</li>
    <li>âœ… <strong>WP4BD-012:</strong> Stage 9 - Inject Backdrop Assets</li>
    <li>âœ… <strong>WP4BD-013:</strong> Display Output Toggle (you are here!)</li>
  </ul>

  <h3 style="color: #0f2a45;">ğŸ‰ What You're Seeing</h3>
  <p><strong>All 9 stages are complete!</strong> WordPress themes render with Backdrop data and assets:</p>
  <ul>
    <li>Stage 1: Query Backdrop nodes âœ“</li>
    <li>Stage 2: Transform to WP_Post objects âœ“</li>
    <li>Stage 3: Populate WP_Query âœ“</li>
    <li>Stage 4: Load WordPress core âœ“</li>
    <li>Stage 5: Test The Loop âœ“</li>
    <li>Stage 6: Load theme functions.php âœ“</li>
    <li>Stage 7: Detect template hierarchy âœ“</li>
    <li>Stage 8: Capture template output âœ“</li>
    <li>Stage 9: Inject Backdrop assets âœ“</li>
  </ul>

  <h3 style="color: #0f2a45;">ğŸ“‹ What's Working</h3>
  <ol>
    <li><code style="background: #eef2fa; color: #0f2a45; padding: 2px 6px;">have_posts()</code> correctly checks for posts</li>
    <li><code style="background: #eef2fa; color: #0f2a45; padding: 2px 6px;">the_post()</code> advances through the loop</li>
    <li>Template tags (<code style="background: #eef2fa; color: #0f2a45; padding: 2px 6px;">the_title()</code>, <code style="background: #eef2fa; color: #0f2a45; padding: 2px 6px;">get_permalink()</code>) work</li>
    <li>Global <code style="background: #eef2fa; color: #0f2a45; padding: 2px 6px;">$post</code> variable is set correctly</li>
    <li><code style="background: #eef2fa; color: #0f2a45; padding: 2px 6px;">wp_reset_postdata()</code> resets the loop</li>
  </ol>

  <h3 style="color: #0f2a45;">ğŸ”§ Implementation Progress</h3>
  <p><strong>Epic 1: Debug Infrastructure</strong> - âœ… Complete! (2/2 tickets done)</p>
  <p><strong>Epic 2: Data Loading</strong> - âœ… Complete! (3/3 tickets done)</p>
  <p><strong>Epic 3: WordPress Integration</strong> - âœ… Complete! (2/2 tickets done)</p>
  <p><strong>ğŸŠ Core WordPress Loop is now functional!</strong></p>
</div>

<div style="margin: 20px; padding: 20px; background: #f7f7f7; color: #222; border-left: 4px solid #ccc;">
  <h3 style="color: #222;">ğŸ” Environment Info</h3>
  <ul>
    <li><strong>Backdrop Root:</strong> /var/www/html/backdrop-1.30</li>
    <li><strong>Current Path:</strong> home</li>
    <li><strong>Backdrop Theme:</strong> wp</li>
    <li><strong>WordPress Theme:</strong> outlined</li>
    <li><strong>Debug Level:</strong> 2</li>
    <li><strong>PHP Version:</strong> 8.3.27</li>
  </ul>
</div>


<!-- END OUTPUT from 'themes/wp/templates/page.tpl.php' -->

